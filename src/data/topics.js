export const topics = [
  {
    slug: 'electric-fields',
    title: 'Electric Fields & Forces',
    blurb: 'Build intuition for how charges set the stage for forces and field lines.',
    keyIdeas: [
      "Coulomb's law gives pairwise forces that add by vector superposition.",
      'Electric field E is force per unit charge; field lines start on + and end on -.',
      'Use symmetry (spheres, lines, planes) to simplify field calculations.',
      'At equilibrium, conductors have E = 0 inside and charges reside on the surface.',
      'Force on a charge: \\vec{F} = q\\,\\vec{E}.',
    ],
    equations: [
      { name: "Coulomb's law", formula: 'F = k\\frac{q_1 q_2}{r^2}', note: '$k = 1/(4\\\\pi\\\\varepsilon_0)$' },
      { name: 'Field of point charge', formula: 'E = k\\frac{Q}{r^2}', note: 'radially outward for +Q' },
      { name: 'Superposition', formula: '\\vec{E}_{net} = \\sum \\vec{E}_i', note: 'vector sum, mind directions' },
    ],
    walkthrough: {
      prompt: 'Two +2.0 uC charges are 0.40 m apart. What is E at the midpoint?',
      steps: [
        'Each charge is 0.20 m from the midpoint.',
        'Field from one charge: E = kQ/r^2 = (8.99e9)(2e-6)/(0.20^2) ~ 4.5e5 N/C.',
        "Directions: both point outward from each charge, so they cancel horizontally and add along the line.",
        "Net field doubles: E_net ~ 9.0e5 N/C toward either charge's opposite direction (away from both charges).",
      ],
    },
    flashcards: [
      { front: 'Superposition principle', back: 'Fields from individual charges add as vectors; no shielding or interaction between fields themselves.' },
      { front: 'Conductor interior field', back: 'In electrostatic equilibrium, E = 0 inside a conductor; excess charge sits on the surface.' },
    ],
    quiz: {
      question: 'A negative charge feels a force opposite the direction of the local electric field. True or false?',
      options: ['True', 'False'],
      answer: 'True',
      rationale: 'Force = qE; a negative q flips the direction relative to the field vector.',
    },
    pitfalls: ['Forgetting field is a vector-add components, not magnitudes.', 'Confusing force direction on negative charges.', 'Assuming shielding without a conductor present.'],
    habits: ['Sketch field lines first to predict direction.', 'Compute components with a quick table before summing.', 'State symmetry arguments to simplify integrals.'],
  },
  {
    slug: 'electric-potential',
    title: 'Electric Potential & Potential Energy',
    blurb: 'Track energy bookkeeping and scalar potentials to avoid messy vector sums.',
    keyIdeas: [
      'Potential V is work per unit charge; potentials add scalarly.',
      'Potential energy U = qV; only differences in V matter physically.',
      'Equipotential surfaces are perpendicular to field lines.',
      'Delta U = -W_by_field, so moving with the field lowers potential energy.',
      'Conservative field: E = -grad V.',
    ],
    equations: [
      { name: 'Point charge potential', formula: 'V = k\\frac{Q}{r}', note: 'set reference V = 0 at infinity' },
      { name: 'Potential energy', formula: 'U = qV', note: 'for a charge q at potential V' },
      { name: 'Relation to field', formula: '\\vec{E} = -\\nabla V', note: 'use derivatives to find field components' },
    ],
    walkthrough: {
      prompt: 'Find Delta U for moving a +1.0 nC charge from 0.80 m to 0.40 m away from a +3.0 uC charge.',
      steps: [
        'Compute potentials: V1 = kQ/r = (8.99e9)(3e-6)/0.80 ~ 33700 V; V2 ~ 67400 V.',
        'Delta V = V2 - V1 ~ 33700 V.',
        'Delta U = qDelta V = (1e-9 C)(3.37e4 V) ~ 3.4e-5 J.',
        'Positive Delta U because you moved against the repulsive field (work done by you).',
      ],
    },
    flashcards: [
      { front: 'Equipotential surfaces', back: 'Moving along them requires no work; E is perpendicular to them.' },
      { front: 'Sign of Delta U', back: 'If the field would do positive work, Delta U is negative; if you do work against the field, Delta U is positive.' },
    ],
    quiz: {
      question: 'If E points +x with magnitude 5 N/C, what is dV/dx?',
      options: ['+5 V/m', '-5 V/m', '0'],
      answer: '-5 V/m',
      rationale: 'Ex = -dV/dx, so dV/dx = -Ex.',
    },
    pitfalls: ['Dropping the sign on Delta V when moving opposite the field.', 'Forgetting potentials add scalarly, unlike fields.', 'Mixing up reference level for V = 0.'],
    habits: ['State your reference for V upfront.', 'Convert E -> V via integrals when geometry is 1D.', 'Draw equipotential sketches with E arrows to check orthogonality.'],
  },
  {
    slug: 'capacitance',
    title: 'Capacitance & Dielectrics',
    blurb: 'Store energy in electric fields, tune it with geometry and materials.',
    keyIdeas: [
      'Capacitance depends on geometry and dielectric constant.',
      'Dielectrics lower E, raise capacitance, and store polarization energy.',
      'Energy can be expressed as 1/2CV^2, 1/2QV, or Q^2/(2C).',
      'Series capacitors reduce total C; parallel adds.',
      'Inserting dielectric while isolated keeps Q fixed; while connected keeps V fixed.',
    ],
    equations: [
      { name: 'Parallel plate', formula: 'C = \\varepsilon A / d', note: 'with dielectric $C = k\\\\varepsilon_0 A/d$' },
      { name: 'Energy stored', formula: 'U = \\tfrac{1}{2} C V^2', note: 'also $= 1/2QV$' },
      { name: 'Equivalent C', formula: 'C_{eq,series}^{-1} = \\sum 1/C_i, \\quad C_{eq,parallel} = \\sum C_i', note: 'series down C, parallel up C' },
    ],
    walkthrough: {
      prompt: 'A 4.0 uF capacitor at 12 V is disconnected, then a dielectric k = 2.5 is inserted. What happens?',
      steps: [
        'Charge stays fixed because it is isolated: Q = CV = (4e-6)(12) = 4.8e-5 C.',
        "New capacitance C' = kC = 10 uF.",
        "New voltage V' = Q/C' = 4.8e-5 / 1.0e-5 = 4.8 V.",
        'Energy drops from 0.5*4e-6*12^2 = 2.9e-4 J to 0.5*1e-5*4.8^2 ~ 1.2e-4 J; the difference is work done pulling the dielectric in.',
      ],
    },
    flashcards: [
      { front: 'Dielectric constant k', back: 'Factor by which capacitance increases; reduces effective field inside material.' },
      { front: 'Series vs parallel', back: 'Series shares charge, drops voltage; parallel shares voltage, splits charge.' },
    ],
    quiz: {
      question: 'Adding a dielectric while a capacitor stays connected to a battery will...',
      options: ['Raise V, lower Q', 'Keep V fixed, increase Q', 'Keep Q fixed, drop V'],
      answer: 'Keep V fixed, increase Q',
      rationale: 'Battery pins V; higher C means more charge flows until V is unchanged.',
    },
    pitfalls: ['Mixing Q-fixed vs V-fixed scenarios with dielectrics.', 'Dropping the factor of 1/2 in energy expressions.', 'Wrongly adding series capacitances algebraically.'],
    habits: ['Write "Q fixed?" or "V fixed?" at the top of each problem.', 'Simplify circuits with series/parallel reductions before plugging numbers.', 'Track energy changes when dielectrics move-identify the external agent doing work.'],
  },
  {
    slug: 'current-resistance',
    title: 'Current, Resistance, EMF & Power',
    blurb: 'Translate charge flow into measurable circuit quantities.',
    keyIdeas: [
      'Current I = dQ/dt; conventional current flows direction of positive charge motion.',
      "Ohm's law is empirical: V = IR for ohmic materials.",
      'Resistance scales with length and resistivity: R = rhoL/A.',
      'Source EMF provides energy per charge; terminal voltage drops with internal resistance.',
      'Power can be written as IV, I^2R, or V^2/R.',
    ],
    equations: [
      { name: "Ohm's law", formula: 'V = IR', note: 'resistive elements' },
      { name: 'Resistivity', formula: 'R = \\rho L / A', note: 'temperature dependent' },
      { name: 'Power', formula: 'P = IV = I^2 R = V^2 / R', note: 'choose form based on knowns' },
    ],
    walkthrough: {
      prompt: 'A 9.0 V battery with 0.50  ohm internal resistance powers a 5.0  ohm resistor. Find current and terminal voltage.',
      steps: [
        'Total resistance R_tot = 0.50 + 5.0 = 5.5  ohm.',
        'Current I = EMF / R_tot = 9 / 5.5 ~ 1.64 A.',
        'Terminal voltage = EMF - I r_internal ~ 9 - (1.64)(0.50) ~ 8.2 V.',
        'Power in load = I^2R ~ (1.64)^2*5 ~ 13.4 W.',
      ],
    },
    flashcards: [
      { front: 'EMF meaning', back: 'Energy supplied per coulomb by a source; ideal EMF has zero internal resistance.' },
      { front: 'Drift speed scale', back: 'Electrons move mm/s even though the signal propagates near light speed.' },
    ],
    quiz: {
      question: 'Doubling the length of a wire while keeping area and material fixed will...',
      options: ['Double its resistance', 'Halve its resistance', 'Leave resistance unchanged'],
      answer: 'Double its resistance',
      rationale: 'R proportional to L for fixed rho and A.',
    },
    pitfalls: ['Ignoring internal resistance of sources.', 'Confusing drift speed with signal speed.', "Assuming Ohm's law applies to all devices (e.g., diodes do not)."],
    habits: ['Draw a simple circuit diagram with labeled voltage drops.', 'Pick the power formula that avoids unnecessary new variables.', 'Check units: volts = amps*ohms.'],
  },
  {
    slug: 'dc-circuits',
    title: 'Direct Current Circuits & RC',
    blurb: 'Combine resistors and capacitors; track transients with time constants.',
    keyIdeas: [
      "Kirchhoff's loop rule: algebraic sum of voltage changes is zero around a loop.",
      'Node rule: currents into a junction sum to zero (charge conservation).',
      'Series resistors add; parallel resistors use inverse sum.',
      'RC charging/discharging follows exponential behavior with tau = RC.',
      'Household wiring is parallel so devices get full line voltage.',
    ],
    equations: [
      { name: 'Loop rule', formula: '\\sum V = 0', note: 'choose a sign convention and stick to it' },
      { name: 'RC charging', formula: 'q(t) = Q_{max}(1 - e^{-t/RC}),\\ I(t) = (V/R)e^{-t/RC}', note: '$\\tau = RC$ sets speed' },
      { name: 'RC discharging', formula: 'q(t) = Q_0 e^{-t/RC}', note: 'current reverses sign when discharging' },
    ],
    walkthrough: {
      prompt: 'A 12 V source charges a 20 uF capacitor through a 200  ohm resistor. How long to reach 63% of final charge?',
      steps: [
        'Time constant tau = RC = (200)(20e-6) = 0.004 s.',
        '63% of final corresponds to 1 - e^{-t/tau} = 0.63 => t = tau.',
        'So t ~ 4.0 ms for one time constant.',
        'At t = tau, current has dropped to 37% of its initial value.',
      ],
    },
    flashcards: [
      { front: 'Time constant intuition', back: 'After 1tau: 63% charged; 3tau: 95%; 5tau: ~99%.' },
      { front: 'Parallel resistor trick', back: 'Equivalent R of two resistors in parallel: R_eq = (R1*R2)/(R1 + R2).' },
    ],
    quiz: {
      question: 'In a loop, you traverse a resistor in the direction of current. The voltage change is...',
      options: ['+IR', '-IR'],
      answer: '-IR',
      rationale: 'Going with current drops potential across a resistor.',
    },
    pitfalls: ['Mixing sign conventions mid-loop.', 'Forgetting that line voltage is the same across parallel branches.', 'Treating capacitors as open circuits even at t = 0 during charging.'],
    habits: ['Label current directions first; algebra will fix any wrong guesses.', 'Reduce series/parallel groups stepwise to avoid algebra mistakes.', 'Mark time constants directly on circuit diagrams for RC problems.'],
  },
  {
    slug: 'magnetic-forces',
    title: 'Magnetic Fields & Forces',
    blurb: 'Predict motion of charges and currents in magnetic environments.',
    keyIdeas: [
      'Magnetic force is perpendicular to both velocity and field: (\\vec{F} = q\\vec{v} \\times \\vec{B}).',
      'Force magnitude: F = |q|vB sintheta; zero when v parallel B.',
      'Current-carrying wire force: (\\vec{F} = I \\vec{L} \\times \\vec{B}).',
      'Magnetic work is zero (force is perpendicular), so speed stays constant in uniform B.',
      'Right-hand rule sets direction; left-hand for negative charges.',
    ],
    equations: [
      { name: 'Charged particle', formula: '\\vec{F} = q\\vec{v}\\times\\vec{B}', note: 'centripetal for uniform B' },
      { name: 'Wire segment', formula: '\\vec{F} = I\\vec{L}\\times\\vec{B}', note: 'use current direction for L' },
      { name: 'Radius of circular path', formula: 'r = \\frac{mv}{|q|B}', note: 'uniform circular motion in perpendicular B' },
    ],
    walkthrough: {
      prompt: 'A 2.0 m wire carries 3.0 A east in a 0.25 T magnetic field pointing north. Force?',
      steps: [
        'Use F = I L B sintheta; here theta = 90 deg, so F = (3)(2)(0.25) = 1.5 N.',
        'Direction: current east, field north => right-hand rule gives force upward.',
        'State vector: 1.5 N upward (out of the ground).',
        'Check units: A*m*T = N.',
      ],
    },
    flashcards: [
      { front: 'Magnetic work', back: 'Zero-forces are perpendicular to displacement in uniform fields.' },
      { front: 'Helical motion', back: 'Occurs when velocity has components both parallel and perpendicular to B.' },
    ],
    quiz: {
      question: 'A proton moves right while B points into the page. Force direction?',
      options: ['Up', 'Down', 'Left', 'Out of page'],
      answer: 'Up',
      rationale: 'q > 0; v  cross  B with B into the page gives force upward.',
    },
    pitfalls: ['Forgetting negative charges flip the right-hand rule.', 'Using speed instead of perpendicular component vperpendicular.', 'Assuming magnetic forces can change kinetic energy.'],
    habits: ['Draw v, B, and use a quick right-hand sketch.', 'Isolate perpendicular and parallel velocity components.', 'State whether motion is circular, helical, or straight before computing.'],
  },
  {
    slug: 'magnetic-sources',
    title: 'Sources of Magnetic Fields',
    blurb: 'Connect current distributions to magnetic fields via Biot-Savart or Ampere.',
    keyIdeas: [
      'Moving charges (currents) create magnetic fields; superposition applies.',
      'Biot-Savart handles arbitrary shapes; Ampere works with high symmetry.',
      'Long straight wire field circles the wire with magnitude mu0I/2pir.',
      'Solenoid field is roughly uniform inside: B = mu0 n I.',
      'Direction follows right-hand rule curling with current.',
    ],
    equations: [
      { name: 'Biot-Savart', formula: 'd\\vec{B} = \\frac{\\mu_0}{4\\pi} \\frac{I d\\vec{\\ell} \\times \\hat{r}}{r^2}', note: 'integrate over current path' },
      { name: "Ampere's law", formula: '\\oint \\vec{B}\\cdot d\\vec{\\ell} = \\mu_0 I_{enc}', note: 'choose symmetric Amperian loop' },
      { name: 'Long wire field', formula: 'B = \\mu_0 I / (2\\pi r)', note: 'circular field lines' },
    ],
    walkthrough: {
      prompt: 'Find B 3.0 cm from a long wire carrying 6.0 A.',
      steps: [
        'Use long-wire formula: B = mu0 I / (2pir).',
        'Plug numbers: B = (4pie-7)(6) / (2pi*0.03) ~ 4.0e-5 T.',
        'Direction: wrap right hand with thumb along current; fingers point along B.',
        'Note field weakens as 1/r.',
      ],
    },
    flashcards: [
      { front: 'Ampere shortcut', back: 'Works when B is constant along your chosen loop and parallel to dl.' },
      { front: 'Solenoid interior', back: 'B ~ mu0 n I, nearly uniform; outside field is small (ideal solenoid).' },
    ],
    quiz: {
      question: 'Doubling distance from a long straight wire makes the magnetic field...',
      options: ['Double', 'Half', 'One-quarter'],
      answer: 'Half',
      rationale: 'Field scales as 1/r.',
    },
    pitfalls: ["Choosing Ampere's law when symmetry is insufficient.", 'Forgetting enclosed current sign/direction.', 'Missing vector directions when summing multiple wires.'],
    habits: ['Sketch currents and circular field lines first.', 'State why symmetry allows constant B along an Amperian path.', 'Check limits: as r -> infinity, B -> 0.'],
  },
  {
    slug: 'electromagnetic-induction',
    title: 'Electromagnetic Induction',
    blurb: 'Changing magnetic flux drives emf; Lenz keeps energy and momentum consistent.',
    keyIdeas: [
      'Faraday: emf magnitude is N*dPhi/dt; only changing flux matters.',
      'Lenz: induced currents oppose the change in flux (not the field itself).',
      'Flux Phi = B*A*costheta; change can come from B, area, or angle.',
      'Motional emf arises from charges pushed by magnetic forces in moving conductors.',
      'Induced electric fields are non-conservative (closed-loop work != 0).',
    ],
    equations: [
      { name: "Faraday's law", formula: 'emf = -N \\frac{d\\Phi}{dt}', note: 'minus sign encodes Lenz' },
      { name: 'Flux definition', formula: '\\Phi = BA\\cos\\theta', note: 'pick theta between B and area normal' },
      { name: 'Motional emf', formula: '\\mathcal{E} = B\\ell v', note: 'for rod of length l moving perpendicular to B' },
    ],
    walkthrough: {
      prompt: 'A 0.20 m rod moves at 3.0 m/s perpendicular to a 0.80 T field. Find induced emf and current in a 2.0  ohm loop.',
      steps: [
        'emf = Blv = (0.80)(0.20)(3.0) = 0.48 V.',
        'Current I = emf / R = 0.48 / 2.0 = 0.24 A.',
        'Direction from Lenz: choose motion that increases flux; induced current creates opposing field.',
        'Use right-hand rule for motional emf: positive charges pushed toward one end of rod.',
      ],
    },
    flashcards: [
      { front: "Lenz's opposition", back: 'Induced current creates flux opposing the change (keeps total flux change small).' },
      { front: 'Ways to change flux', back: 'Alter area, rotate coil (theta), or change B.' },
    ],
    quiz: {
      question: 'If flux through a loop decreases into the page, induced current is...',
      options: ['Clockwise', 'Counterclockwise'],
      answer: 'Clockwise',
      rationale: 'To oppose a decrease of into-page flux, the loop creates into-page B; right-hand rule -> clockwise current.',
    },
    pitfalls: ['Mixing up "opposes the change" with "opposes the field."', 'Dropping the costheta factor in flux.', 'Forgetting that induced electric fields can do work around closed paths.'],
    habits: ['State clearly what is changing in Phi (B, A, theta).', 'Use a two-step Lenz check: what is changing, what field counters it.', 'Track sign with a small diagram showing normal vectors.'],
  },
  {
    slug: 'inductance',
    title: 'Inductance & RL Circuits',
    blurb: 'Currents create flux that resists changes through induced emfs.',
    keyIdeas: [
      'Inductance L links current to flux: Phi = LI for a coil.',
      'Self-induced emf opposes change: epsilon = -L (dI/dt).',
      'Energy stored in magnetic fields: U = 1/2LI^2.',
      'RL circuits change current exponentially with time constant tau = L/R.',
      'Inductors act like current momentum-slow to change.',
    ],
    equations: [
      { name: 'Induced emf', formula: '\\varepsilon = -L \\frac{dI}{dt}', note: 'sign from Lenz' },
      { name: 'Energy in inductor', formula: 'U = \\tfrac{1}{2} L I^2', note: 'stored in magnetic field' },
      { name: 'RL current growth', formula: 'I(t) = I_{max}(1 - e^{-tR/L})', note: 'decay: $I = I_0 e^{-tR/L}$' },
    ],
    walkthrough: {
      prompt: 'An RL circuit has L = 0.40 H and R = 8.0  ohm with 12 V applied. Find I at 0.10 s after closing the switch.',
      steps: [
        'Time constant tau = L/R = 0.40/8 = 0.050 s.',
        'I_max = V/R = 12/8 = 1.5 A.',
        'I(t) = 1.5(1 - e^{-t/tau}) = 1.5(1 - e^{-2}).',
        'e^{-2} ~ 0.135 => I ~ 1.5(0.865) ~ 1.30 A.',
      ],
    },
    flashcards: [
      { front: 'Physical picture', back: 'Changing current means changing magnetic flux; induced emf resists the change.' },
      { front: 'Inductor vs capacitor', back: 'Inductor resists current changes; capacitor resists voltage changes.' },
    ],
    quiz: {
      question: 'Right after an RL switch closes, current is...',
      options: ['Zero', 'I_max', 'Half of I_max'],
      answer: 'Zero',
      rationale: 'Current starts at 0 and rises toward I_max with time constant L/R.',
    },
    pitfalls: ['Forgetting initial current at t = 0 is zero for growth and I0 for decay.', 'Missing the sign in epsilon = -L dI/dt.', 'Treating inductors as short circuits instantly.'],
    habits: ['Write initial and final values before exponentials.', 'Label tau = L/R on circuit diagrams.', 'Check limiting behavior at t -> 0 and t -> infinity.'],
  },
  {
    slug: 'ac-circuits',
    title: 'Alternating Current Circuits',
    blurb: 'Generators supply sinusoidal voltage; track peaks vs RMS and basic resistive loads.',
    keyIdeas: [
      'AC generator output: v(t) = V_0 \cos(\omega t) with frequency f = \omega/2\pi.',
      'RMS values set power: $V_{rms} = V_0/\sqrt{2}$, same scaling for current.',
      'Pure resistors: current is in phase with voltage, I_0 = V_0 / R.',
      'Instantaneous power oscillates at 2f; average power is P_avg = V_rms I_rms.',
      'Household AC ratings (e.g., 120 V) refer to RMS voltage from the generator.',
    ],
    equations: [
      { name: 'Source voltage', formula: 'v(t) = V_0 \cos(\omega t)', note: 'V_0 is peak (amplitude)' },
      { name: 'RMS values', formula: 'V_{rms} = V_0/\sqrt{2},\ I_{rms} = I_0/\sqrt{2}', note: 'use RMS for power' },
      { name: 'Ohm in AC (resistor)', formula: 'I_0 = V_0 / R', note: 'no phase shift for pure R' },
    ],
    walkthrough: {
      prompt: 'A generator provides $v(t) = 170\cos(2\pi 60\,t)$ V to a 100  ohm resistor. Find $I_0$, $I_{rms}$, and average power.',
      steps: [
        'Peak voltage V_0 = 170 V, so V_rms = 170/\sqrt{2} = 120 V (standard outlet).',
        'Peak current: I_0 = V_0 / R = 170 / 100 = 1.70 A.',
        'RMS current: I_rms = I_0/\sqrt{2} = 1.70/\sqrt{2} \approx 1.20 A.',
        'Average power: P_avg = V_rms I_rms = (120)(1.20) \approx 144 W.',
      ],
    },
    flashcards: [
      { front: 'AC generator voltage', back: 'Rotating coil in B-field induces sinusoidal emf; amplitude set by coil area, B, and rotation rate.' },
      { front: 'RMS meaning', back: 'Effective DC equivalent for power; multiply peaks by 1/\sqrt{2}.' },
    ],
    quiz: {
      question: 'A wall outlet is 120 V RMS at 60 Hz. What is the peak voltage?',
      options: ['120 V', '170 V', '240 V'],
      answer: '170 V',
      rationale: 'V_0 = \sqrt{2} V_{rms} \approx 1.414(120) = 170 V.',
    },
    pitfalls: ['Mixing peak and RMS when computing power.', 'Forgetting frequency in \omega = 2\pi f.', 'Using DC formulas with peak instead of RMS values.'],
    habits: ['Label peak and RMS explicitly on sketches.', 'Convert to RMS before any power calculation.', 'Check units and recall outlets quote RMS voltage.'],
  },
  {
    slug: 'maxwell-equations',
    title: "Maxwell's Equations",
    blurb: 'Unify electricity and magnetism into four coupled field laws.',
    keyIdeas: [
      "Gauss's law (electric): flux through a closed surface equals enclosed charge divided by epsilon0.",
      'Gauss for magnetism: net magnetic flux through a closed surface is zero (no monopoles).',
      'Faraday: changing magnetic flux induces a curling electric field.',
      'Ampere-Maxwell: currents and changing electric flux create magnetic fields; displacement current preserves continuity.',
      'Pick surfaces/loops that respect symmetry so the integral forms simplify to algebra.',
    ],
    equations: [
      { name: 'Gauss (electric)', formula: '\\oint \\vec{E}\\cdot d\\vec{A} = Q_{enc}/\\varepsilon_0', note: 'choose surfaces where E is constant or parallel to dA' },
      { name: 'Gauss (magnetism)', formula: '\\oint \\vec{B}\\cdot d\\vec{A} = 0', note: 'magnetic field lines form closed loops' },
      { name: 'Faraday', formula: '\\oint \\vec{E}\\cdot d\\vec{\\ell} = -\\frac{d\\Phi_B}{dt}', note: 'induced emf opposes the flux change' },
      { name: 'Ampere-Maxwell', formula: '\\oint \\vec{B}\\cdot d\\vec{\\ell} = \\mu_0 I_{enc} + \\mu_0 \\varepsilon_0 \\frac{d\\Phi_E}{dt}', note: 'include displacement current when E changes with time' },
    ],
    walkthrough: {
      prompt: 'A parallel-plate capacitor (A = 0.020 m^2) is charging with I = 1.5 A. The gap field increases uniformly. What are $d\\Phi_E/dt$ and the displacement current through the gap?',
      steps: [
        'Current onto the plate changes charge at rate I = 1.5 A.',
        'Flux rate: $d\\Phi_E/dt = I/\\varepsilon_0$ because Gauss gives $\\Phi_E = Q/\\varepsilon_0$ for a pillbox.',
        'Compute: $d\\Phi_E/dt = 1.5 / (8.85e-12) \\approx 1.7\\times 10^{11}$ N*m^2/C*s.',
        'Ampere-Maxwell says $\\mu_0 \\varepsilon_0\\, d\\Phi_E/dt$ equals the displacement current, so $I_d = 1.5$ A matching the conduction current.',
      ],
    },
    flashcards: [
      { front: 'Displacement current', back: "Term $\\mu_0 \\varepsilon_0\\, d\\Phi_E/dt$ extends Ampere's law so a charging capacitor produces B like a steady current." },
      { front: 'Flux intuition', back: 'Gauss relates total flux to sources; Faraday and Ampere-Maxwell relate changing flux to field circulation.' },
    ],
    quiz: {
      question: 'If Q_enc = 0 for a closed surface but B lines enter one side and exit the other, what does Gauss for magnetism say?',
      options: ['Net magnetic flux is zero', 'Magnetic flux equals Q_enc/epsilon0', 'Surface integral equals mu0 I'],
      answer: 'Net magnetic flux is zero',
      rationale: 'Magnetic field lines form closed loops; total flux through any closed surface cancels to zero.',
    },
    pitfalls: ['Dropping the displacement current term when fields change with time.', 'Choosing surfaces/loops where fields are not constant, making integrals messy.', 'Mixing up the sign in Faraday (minus for induced emf).'],
    habits: ['Write all four equations together before solving.', 'State why your chosen surface or loop respects symmetry before simplifying.', 'Check that limiting cases and boundary conditions match the integral form.'],
  },
];

export const topicOrder = topics.map((t) => t.slug);

export const getTopic = (slug) => topics.find((t) => t.slug === slug);
